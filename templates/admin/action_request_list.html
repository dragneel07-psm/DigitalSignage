{% extends 'base.html' %}

{% block title %}‡§∏‡§ö‡•ç‡§Ø‡§æ‡§â‡§®‡•á ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß‡§π‡§∞‡•Ç (Correction Requests){% endblock %}

{% block header_title %}‡§∏‡§ö‡•ç‡§Ø‡§æ‡§â‡§®‡•á ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§µ‡•ç‡§Ø‡§µ‡§∏‡•ç‡§•‡§æ‡§™‡§®{% endblock %}

{% block content %}
<div class="bg-white shadow overflow-hidden rounded-lg">
    <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
            <tr>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß‡§ï‡§∞‡•ç‡§§‡§æ</th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    ‡§Æ‡•ã‡§°‡§≤</th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    ‡§Ö‡§¨‡•ç‡§ú‡•á‡§ï‡•ç‡§ü</th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞</th>
                <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                    ‡§ï‡§æ‡§∞‡§£</th>
                <th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">
                    ‡§ï‡§æ‡§∞‡•ç‡§Ø</th>
            </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
            {% for req in requests %}
            <tr>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{{ req.user.username }}</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ req.model_name }}</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ req.object_title }}</td>
                <td class="px-6 py-4 whitespace-nowrap">
                    <span
                        class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                        {% if req.request_type == 'edit' %}bg-blue-100 text-blue-800{% else %}bg-red-100 text-red-800{% endif %}">
                        {{ req.get_request_type_display }}
                    </span>
                </td>
                <td class="px-6 py-4 text-sm text-gray-500 max-w-xs truncate">{{ req.reason }}</td>
                <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                    <form method="post" action="{% url 'action_request_delete' req.pk %}" class="inline">
                        {% csrf_token %}
                        <button type="submit" class="text-red-600 hover:text-red-900" title="Dismiss Request">
                            üóëÔ∏è Dismiss
                        </button>
                    </form>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="6" class="px-6 py-4 text-center text-gray-500">
                    ‡§ï‡•Å‡§®‡•à ‡§®‡§Ø‡§æ‡§Å ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§õ‡•à‡§®‡•§
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}